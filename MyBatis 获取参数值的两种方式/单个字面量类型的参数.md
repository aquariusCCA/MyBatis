---
up:
  - "[[MyBatis 課程描述]]"
  - "[[MyBatis 获取参数值的两种方式]]"
---
> 若 mapper 接口中的方法参数为单个的字面量类型，此时可以使用 `${}` 和 `#{}` 以任意的名称（最好见名识意）获取参数的值，注意 `${}` 需要手动加单引号

```java
/**  
 * 根据用户名查询用户信息  
 *  
 * @return  
 */  
User getUserByUsername(String username);
```

```xml
<!--User getUserByUsername(String username);-->
<select id="getUserByUsername" resultType="User">
	select * from t_user where emp_name = #{username}
</select>
```

```xml
<!--User getUserByUsername(String username);-->
<select id="getUserByUsername" resultType="User">
	select * from t_user where emp_name = '${username}'
</select>
```

**測試**

```java
@Test  
public void testGetUserByUsername() {  
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();  
    ParameterMapper mapper = sqlSession.getMapper(ParameterMapper.class);  
    User user = mapper.getUserByUsername("admin");  
    System.out.println(user);  
}
```

---

# 附錄：SqlSessionUtils

```java
public class SqlSessionUtils {
    public static SqlSession getSqlSession() {
        SqlSession sqlSession = null;
        try {
            // 读取 MyBatis 的核心配置文件
            InputStream is = Resources.getResourceAsStream("mybatis-config.xml");
            // 获取 SqlSessionFactoryBuilder 对象
            SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
            //通过核心配置文件所对应的字节输入流创建工厂类SqlSessionFactory，生产SqlSession对象
            SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);
            //获取sqlSession，此时通过SqlSession对象所操作的sql都必须手动提交或回滚事务
            //SqlSession sqlSession = sqlSessionFactory.openSession();
            //创建SqlSession对象，此时通过SqlSession对象所操作的sql都会自动提交
            sqlSession = sqlSessionFactory.openSession(true);
        } catch (IOException e) {
            e.printStackTrace();
        }
        return sqlSession;
    }
}
```