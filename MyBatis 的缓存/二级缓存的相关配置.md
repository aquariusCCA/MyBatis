---
up:
  - "[[MyBatis 課程描述]]"
---
- 在 mapper 配置文件中添加的 cache 标签可以设置一些属性

- eviction 属性：当内存使用紧张时缓存回收策略
    - LRU（Least Recently Used） – 最近最少使用的：移除最长时间不被使用的对象。
    - FIFO（First in First out） – 先进先出：按对象进入缓存的顺序来移除它们。
    - SOFT – 软引用：移除基于垃圾回收器状态和软引用规则的对象。
    - WEAK – 弱引用：更积极地移除基于垃圾收集器状态和弱引用规则的对象。
    - 默认的是 LRU

- flushInterval 属性：刷新间隔，单位毫秒
    - 默认情况是不设置，也就是没有刷新间隔，缓存仅仅调用语句（增删改）时刷新

- size 属性：引用数目，正整数
    - 代表缓存最多可以存储多少个对象，太大容易导致内存溢出

- readOnly 属性：是否只读，true/false
    - true：只读
	    - mybatis 认为所有从缓存中获取数据的操作都是只读操作，不会修改数据。
	    - mybatis 为了加快获取速度，直接就会将数据在缓存中的引用交给用户。不安全，速度快
    - false：读写缓存
	    - mybatis 觉得获取的数据可能会被修改。
	    - mybatis 会利用序列化&反序列的技术克隆一份新的数据给你。安全，速度慢
	    - 会这会慢一些，但是安全，因此默认是 false

- type:指定自定义缓存的全类名(实现Cache接口) 